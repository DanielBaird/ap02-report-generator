// Generated by CoffeeScript 1.3.3

define(['jquery', 'underscore', 'backbone', 'bifocal/collections/regions', 'bifocal/collections/regiontypes'], function($, _, Backbone, Regions, RegionTypes) {
  var AppView;
  AppView = Backbone.View.extend({
    initialize: function() {
      this.region_types = new RegionTypes(window.region_type_list);
      return this.regions = new Regions(window.region_list);
    },
    render: function() {
      var me, type_choices;
      me = this;
      type_choices = [];
      this.region_types.each(function(r) {
        return type_choices.push(AppView.type_choice(r.attributes));
      });
      console.log(type_choices);
      this.$el.append(AppView.type_chooser({
        regiontypes: type_choices.join()
      }));
      this.$el.append($("<br>"));
      this.regions.each(function(r) {
        me.$el.append(r.get("name"));
        return me.$el.append($("<br>"));
      });
      return $('body').prepend(this.$el);
    }
  }, {
    type_chooser: _.template("<select>\n<%= regiontypes %>\n</select>"),
    type_choice: _.template("<option><%= regiontypename %></option>")
  });
  return AppView;
});
